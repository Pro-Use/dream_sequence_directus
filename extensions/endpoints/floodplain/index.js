"use strict";module.exports=(a,{database:e,exceptions:t})=>{const{ServiceUnavailableException:i}=t;a.get("/",(async(a,t,o)=>{let s=await e("outputs").select("*").where("clients","floodplain").first();if(s){let a=await e(s.data_source).min(s.data_type+" as min"),i=await e(s.data_source).max(s.data_type+" as max");if(a[0].min==i[0].max)var l=.5;else{let t=await e(s.data_source).orderBy("id","desc").first(s.data_type);l=(n=t[s.data_type],d=a[0].min,c=i[0].max,r=s.min,p=s.max,(n-d)*(p-r)/(c-d)+r)}let o={floodplain:l};console.log(o),t.json(o)}else o(new i("No floodplain output"));var n,d,c,r,p}))};
