import{ref as t,inject as e,computed as n,watch as s,resolveComponent as i,openBlock as o,createElementBlock as r,Fragment as a,createElementVNode as l,normalizeClass as c,withDirectives as u,vModelText as d,renderList as p,unref as h,toDisplayString as f,vModelSelect as g,createVNode as b,createTextVNode as v,pushScopeId as m,popScopeId as y,createBlock as x,createStaticVNode as w,onMounted as k,provide as _,withCtx as E,createCommentVNode as T}from"vue";import{useApi as O}from"@directus/extensions-sdk";const A=t=>(m("data-v-c4d9ca46"),t=t(),y(),t),R={class:"lg-left bg-light-blue"},C=A((()=>l("label",{class:"label",for:"name"},"Name",-1))),B={class:"lg-span-2 lg-left bg-light-blue"},S=A((()=>l("label",{id:"description",class:"label",for:"description"},"Description",-1))),N={class:"lg-span-2 lg-left bg-light-blue"},z=A((()=>l("label",{class:"label",for:"device"},"device",-1))),L=["value"],I={class:"lg-span-2 lg-left bg-light-blue"},P=A((()=>l("label",{class:"label",for:"dataPoint"},"data Point",-1))),q=["value"],F={class:"lg-center bg-light-blue"},D=A((()=>l("label",{class:"label",for:"min"},"Min",-1))),j={class:"lg-center bg-light-blue"},U=A((()=>l("label",{class:"label",for:"max"},"Max",-1))),V={class:"lg-center lg-span-2 bg-light-blue"},M=A((()=>l("label",{class:"label",for:"liveOutputValue"},"Live Output Value",-1))),Y=["value"],H={class:"lg-center bg-light-blue"};var K={__name:"outputTableRow",props:["output"],setup(m){const y=m,x=O(),w=t(y.output.id),k=t(y.output.name),_=t(y.output.description),E=t(y.output.data_source),T=t(y.output.data_type),A=t(y.output.min),K=t(y.output.max),W=t(!1),$=t(!1),J=t([]),Q={name:y.output.name,description:y.output.description,data_source:y.output.data_source,data_type:y.output.data_type,min:y.output.min,max:y.output.max},{save:X,discard:G,outputSaved:Z,outputUpdated:tt,outputFailed:et}=e("update"),{all_outputs:nt}=e("add"),st=e("data_sources"),it=e("data_types"),ot=e("delete"),rt=e("output_vals"),at=n((()=>{let t=it[E.value];return t||"-"})),lt=n((()=>rt.value[k.value])),ct=()=>{W.value||(W.value=!0,tt())},ut=()=>{A.value||(A.value=0),K.value||(K.value=1)};return s(X,(async t=>{if(t&&W.value&&(()=>{J.value=[],0==k.value.length?J.value.push("Output name cannot be blank"):Q.name!=k.value&&nt.value.filter((t=>t.name==k.value)).length>0&&J.value.push('An output named "'+k.value+'" already exists');return null==E.value?J.value.push("Output must have a data source"):null==T.value&&J.value.push("Output must have a data type"),0==J.value.length||(et(),!1)})()){console.log("component saving");let t={data_source:E.value,data_type:T.value,description:_.value,min:A.value,max:K.value},e=await x.patch("/items/outputs/"+w.value,t);console.log(e),W.value=!1,Z(),Q.name=k.value,Q.description=_.value,Q.data_source=E.value,Q.data_type=T.value,Q.min=A.value,Q.max=K.value,console.log(Q)}})),s(G,(t=>{t&&W.value&&(k.value=Q.name,_.value=Q.description,E.value=Q.data_source,T.value=Q.data_type,A.value=Q.min,K.value=Q.max,W.value=!1,Z())})),s(A,((t,e)=>{0>t||t>1||t>=K.value?A.value=e:ct()})),s(K,((t,e)=>{console.log(t),t&&(0>t||t>1||t<=A.value?K.value=e:ct())})),(t,e)=>{const n=i("v-icon");return o(),r(a,null,[l("div",{class:c([{updated:W.value,"not-updated":!W.value},"row"])},[l("div",R,[C,u(l("input",{id:"name",class:"input",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>k.value=t),onInput:e[1]||(e[1]=t=>ct())},null,544),[[d,k.value]])]),l("div",B,[S,u(l("textarea",{class:"input textarea",type:"textarea",wrap:"hard","onUpdate:modelValue":e[2]||(e[2]=t=>_.value=t),onInput:e[3]||(e[3]=t=>ct())},null,544),[[d,_.value]])]),l("div",N,[z,u(l("select",{id:"device",class:"input",type:"textarea","onUpdate:modelValue":e[4]||(e[4]=t=>E.value=t),onInput:e[5]||(e[5]=t=>ct())},[(o(!0),r(a,null,p(h(st),(t=>(o(),r("option",{key:t,value:t},f(t),9,L)))),128))],544),[[g,E.value]])]),l("div",I,[P,u(l("select",{id:"dataPoint",class:"input",type:"textarea","onUpdate:modelValue":e[6]||(e[6]=t=>T.value=t),onInput:e[7]||(e[7]=t=>ct())},[(o(!0),r(a,null,p(h(at),(t=>(o(),r("option",{key:t,value:t},f(t),9,q)))),128))],544),[[g,T.value]])]),l("div",F,[D,u(l("input",{id:"min",class:"input lg-center",type:"number",min:"0",max:"1",step:"0.001","onUpdate:modelValue":e[8]||(e[8]=t=>A.value=t),onChange:e[9]||(e[9]=t=>ut())},null,544),[[d,A.value]])]),l("div",j,[U,u(l("input",{id:"max",class:"input lg-center",type:"number",min:"0",max:"1",step:"0.001","onUpdate:modelValue":e[10]||(e[10]=t=>K.value=t),onChange:e[11]||(e[11]=t=>ut())},null,544),[[d,K.value]])]),l("div",V,[M,l("input",{id:"liveOutputValue",class:"input lg-center",type:"text",value:h(lt),disabled:""},null,8,Y)]),l("div",H,[$.value?(o(),r("button",{key:1,class:"del-buttons",onClick:e[13]||(e[13]=t=>(ot(w.value),void clearTimeout($.value)))},"Delete?")):(o(),r("button",{key:0,class:"del-buttons",onClick:e[12]||(e[12]=t=>{$.value=setTimeout((()=>{clearTimeout($.value),$.value=!1}),3e3)})},[b(n,{name:"delete"})]))])],2),l("div",null,[(o(!0),r(a,null,p(J.value,(e=>(o(),r("div",{class:"lg-span-2 error",key:t.errror},[b(n,{name:"error"}),v(" "+f(e),1)])))),128))])],64)}}},W=[],$=[];function J(t,e){if(t&&"undefined"!=typeof document){var n,s=!0===e.prepend?"prepend":"append",i=!0===e.singleTag,o="string"==typeof e.container?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var r=W.indexOf(o);-1===r&&(r=W.push(o)-1,$[r]={}),n=$[r]&&$[r][s]?$[r][s]:$[r][s]=a()}else n=a();65279===t.charCodeAt(0)&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function a(){var t=document.createElement("style");if(t.setAttribute("type","text/css"),e.attributes)for(var n=Object.keys(e.attributes),i=0;i<n.length;i++)t.setAttribute(n[i],e.attributes[n[i]]);var r="prepend"===s?"afterbegin":"beforeend";return o.insertAdjacentElement(r,t),t}}J('/* ----------------------------------------------------------------------------------------------------\n\nSuper Form Reset\n\nA couple of things to watch out for:\n\n- IE8: If a text input doesn\'t have padding on all sides or none the text won\'t be centered.\n- The default border sizes on text inputs in all UAs seem to be slightly different. You\'re better off using custom borders.\n- You NEED to set the font-size and family on all form elements\n- Search inputs need to have their appearance reset and the box-sizing set to content-box to match other UAs\n- You can style the upload button in webkit using ::-webkit-file-upload-button\n- ::-webkit-file-upload-button selectors can\'t be used in the same selector as normal ones. FF and IE freak out.\n- IE: You don\'t need to fake inline-block with labels and form controls in IE. They function as inline-block.\n- By turning off ::-webkit-search-decoration, it removes the extra whitespace on the left on search inputs\n\n----------------------------------------------------------------------------------------------------*/\n\ninput,\nlabel,\nselect,\nbutton,\ntextarea\n{\n\tmargin:0;\n\tborder:0;\n\tpadding:0;\n\tdisplay:inline-block;\n\tvertical-align:middle;\n\twhite-space:normal;\n\tbackground:none;\n\tline-height:1;\n\t/* Browsers have different default form fonts */\n\tfont-size:inherit;\n\tfont-family:inherit;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;    \n    box-sizing: border-box;\n}\n\n/* Remove the stupid outer glow in Webkit */\ninput:focus\n{\n\toutline:0;\n}\n\n/* Box Sizing Reset\n-----------------------------------------------*/\n\n/* All of our custom controls should be what we expect them to be */\n/* input,\ntextarea\n{\n\t-webkit-box-sizing:content-box;\n\t-moz-box-sizing:content-box;\n\tbox-sizing:content-box;\n} */\n\n/* These elements are usually rendered a certain way by the browser */\nbutton,\ninput[type=reset],\ninput[type=button],\ninput[type=submit],\ninput[type=checkbox],\ninput[type=radio],\nselect\n{\n\t-webkit-box-sizing:border-box;\n\t-moz-box-sizing:border-box;\n\tbox-sizing:border-box;\n}\n\n/* Text Inputs\n-----------------------------------------------*/\n\ninput[type=date],\ninput[type=datetime],\ninput[type=datetime-local],\ninput[type=email],\ninput[type=month],\ninput[type=number],\ninput[type=password],\ninput[type=range],\ninput[type=search],\ninput[type=tel],\ninput[type=text],\ninput[type=time],\ninput[type=url],\ninput[type=week]\n{\n}\n\n/* Button Controls\n-----------------------------------------------*/\n\ninput[type=checkbox],\ninput[type=radio]\n{\n\twidth:13px;\n\theight:13px;\n}\n\n/* File Uploads\n-----------------------------------------------*/\n\ninput[type=file]\n{\n\n}\n\n/* Search Input\n-----------------------------------------------*/\n\n/* Make webkit render the search input like a normal text field */\ninput[type=search]\n{\n\t-webkit-appearance:textfield;\n\t/* -webkit-box-sizing:content-box; */\n}\n\n/* Turn off the recent search for webkit. It adds about 15px padding on the left */\n::-webkit-search-decoration\n{\n\tdisplay:none;\n}\n\n/* Buttons\n-----------------------------------------------*/\n\nbutton,\ninput[type="reset"],\ninput[type="button"],\ninput[type="submit"]\n{\n\t/* Fix IE7 display bug */\n\toverflow:visible;\n\twidth:auto;\n}\n\n/* IE8 and FF freak out if this rule is within another selector */\n::-webkit-file-upload-button\n{\t\n\tpadding:0;\n\tborder:0;\n\tbackground:none;\n}\n\n/* Textarea\n-----------------------------------------------*/\n\ntextarea \n{\n\t/* Move the label to the top */\n\tvertical-align:top;\n\t/* Turn off scroll bars in IE unless needed */\n\toverflow:auto;\n\tresize: vertical;\n\twhite-space: pre-wrap;\n}\n\n/* Selects\n-----------------------------------------------*/\n\nselect\n{\n\n}\n\nselect[multiple] \n{\n\t/* Move the label to the top */\n\tvertical-align:top;\n}\n\n\n\n.input{\n\twidth: 100% !important;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;    \n\tbox-sizing: border-box;\n\tbackground-color: var(--light-blue);\n\tpadding: 8px;\n\tfont-size: 14px;\n\tmin-height: 35px;\n}\n\n.input:enabled:hover{\n\tbackground-color: var(--hover-bg);\n}\n\nselect:hover{\n\tcursor: pointer;\n}\n\n.input:disabled{\n\tcursor: not-allowed;\n}\n.row[data-v-c4d9ca46]{\n        display: grid;\n        grid-template-columns: 1fr;\n        margin-bottom: 1em;\n        border-radius: 5px;\n        overflow: hidden;\n}\n.row div[data-v-c4d9ca46]{\n        display: grid;\n        grid-template-columns: 150px 1fr;\n        border-bottom: 1px solid grey;\n}\n.row div[data-v-c4d9ca46]:last-child{\n        border-bottom: 0px;\n}\nlabel[data-v-c4d9ca46]{\n        padding: 8px;\n        font-weight: 700;\n        font-size: 12px;\n        text-transform: capitalize;\n        border-right: 1px solid grey;\n        background-color: var(--light-blue);\n}\n.updated input[data-v-c4d9ca46], .updated select[data-v-c4d9ca46], .updated textarea[data-v-c4d9ca46]{\n        background-color: #ff990064 !important;\n}\n.not-updated[data-v-c4d9ca46] {\n        border: 1px solid grey;\n}\n.del-buttons[data-v-c4d9ca46] {\n        grid-column: 1 / 3;\n        min-height: 35px;\n        background: var(--light-blue);\n        width: 100%;\n}\n.del-buttons[data-v-c4d9ca46]:hover{\n        color: red;\n}\n.error[data-v-c4d9ca46] {\n        padding: 8px;\n        color: darkred;\n}\n@media screen and (min-width: 1200px) {\n.label[data-v-c4d9ca46]{\n            clip: rect(0 0 0 0);\n            clip-path: inset(50%);\n            height: 1px;\n            overflow: hidden;\n            position: absolute;\n            white-space: nowrap;\n            width: 1px;\n}\n.row[data-v-c4d9ca46]{\n            display: grid;\n            grid-template-columns: repeat(12, 1fr);\n            grid-gap: 1px;\n            width: 100%;\n            margin-bottom: 2px;\n}\n.not-updated[data-v-c4d9ca46] {\n            border: 0px;\n}\n.row div[data-v-c4d9ca46]{\n            display: block;\n            grid-template-columns: 150px 1fr;\n            border-bottom: 0px;\n}\n.lg-span-2[data-v-c4d9ca46]{\n            grid-column: span 2;\n}\n.lg-center[data-v-c4d9ca46]{\n            text-align: center;\n}\n.lg-left[data-v-c4d9ca46]{\n            text-align: left;\n}\n.table-header div[data-v-c4d9ca46]{\n            display: initial;\n            font-size: 12px;\n            font-weight: bold;\n}\n.row div[data-v-c4d9ca46]{\n            overflow: hidden;\n            /* background-color: var(--light-blue); */\n}\n.row:hover .input[data-v-c4d9ca46]{\n            background-color: var(--pale-green);\n}\n.row:hover .input[data-v-c4d9ca46]:enabled:hover{\n            background-color: var(--hover-bg);\n}\n.row:hover .input[data-v-c4d9ca46]:disabled:hover{\n            background-color: var(--light-grey);\n}\ntextarea[data-v-c4d9ca46]{\n            height: 35px;\n            padding-top: 10px;\n}\n}\n\n',{}),K.__scopeId="data-v-c4d9ca46",K.__file="src/components/outputTableRow.vue";const Q=t=>(m("data-v-7df546ad"),t=t(),y(),t),X={key:0,class:"add-container"},G={key:1,class:"row updated"},Z={class:"lg-left bg-light-blue"},tt=Q((()=>l("label",{class:"label",for:"name"},"Name",-1))),et={class:"lg-span-2 lg-left bg-light-blue"},nt=Q((()=>l("label",{id:"description",class:"label",for:"description"},"Description",-1))),st={class:"lg-span-2 lg-left bg-light-blue"},it=Q((()=>l("label",{class:"label",for:"device"},"device",-1))),ot=["value"],rt={class:"lg-span-2 lg-left bg-light-blue"},at=Q((()=>l("label",{class:"label",for:"dataPoint"},"data Type",-1))),lt=["value"],ct={class:"lg-center bg-light-blue"},ut=Q((()=>l("label",{class:"label",for:"min"},"Min",-1))),dt={class:"lg-center bg-light-blue"},pt=Q((()=>l("label",{class:"label",for:"max"},"Max",-1))),ht={class:"lg-center lg-span-2 bg-light-blue"},ft=Q((()=>l("label",{class:"label",for:"liveOutputValue"},"Live Output Value",-1))),gt=Q((()=>l("div",{class:"lg-center bg-light-blue"},null,-1)));var bt={__name:"newOutputTableRow",props:["client"],setup(c){const m=c,y=O(),x=t(""),w=t(""),k=t(null),_=t(null),E=t(0),T=t(1),A=t("-"),R=t(!1),C=t([]),{save:B,discard:S,outputUpdated:N,outputSaved:z,outputFailed:L}=e("update"),{all_outputs:I,addOutput:P}=e("add"),q=e("data_sources"),F=e("data_types"),D=n((()=>F[k.value])),j=()=>{E.value||(E.value=0),T.value||(T.value=1)},U=()=>{x.value="",w.value="",k.value=null,_.value=null,E.value=0,T.value=1,C.value=[]};return s(B,(async t=>{if(t&&R.value&&(()=>{C.value=[],0==x.value.length?C.value.push("Output name cannot be blank"):I.value.filter((t=>t.name==x.value)).length>0&&C.value.push('An output named "'+x.value+'" already exists');return null==k.value?C.value.push("Output must have a data source"):null==_.value&&C.value.push("Output must have a data type"),0==C.value.length||(L(),!1)})()){console.log("component saving");let t={name:x.value,data_source:k.value,data_type:_.value,description:w.value,min:E.value,max:T.value,clients:m.client},e=await y.post("/items/outputs/",t);console.log(e),R.value=!1,P(e.data.data),U()}})),s(S,(t=>{t&&R.value&&(R.value=!1,z(),U())})),s(E,((t,e)=>{(0>t||t>1||t>=T.value)&&(E.value=e)})),s(T,((t,e)=>{console.log(t),(0>t||t>1||t<=E.value)&&(T.value=e)})),(t,e)=>{const n=i("v-icon");return o(),r(a,null,[R.value?(o(),r("div",G,[l("div",Z,[tt,u(l("input",{id:"name",class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>x.value=t)},null,512),[[d,x.value]])]),l("div",et,[nt,u(l("textarea",{class:"input textarea",type:"textarea",wrap:"hard","onUpdate:modelValue":e[2]||(e[2]=t=>w.value=t)},null,512),[[d,w.value]])]),l("div",st,[it,u(l("select",{id:"device",class:"input",type:"textarea","onUpdate:modelValue":e[3]||(e[3]=t=>k.value=t)},[(o(!0),r(a,null,p(h(q),(t=>(o(),r("option",{key:t,value:t},f(t),9,ot)))),128))],512),[[g,k.value]])]),l("div",rt,[at,u(l("select",{id:"dataPoint",class:"input",type:"textarea","onUpdate:modelValue":e[4]||(e[4]=t=>_.value=t)},[(o(!0),r(a,null,p(h(D),(t=>(o(),r("option",{key:t,value:t},f(t),9,lt)))),128))],512),[[g,_.value]])]),l("div",ct,[ut,u(l("input",{id:"min",class:"input lg-center",type:"number",min:"0",max:"1",step:"0.001","onUpdate:modelValue":e[5]||(e[5]=t=>E.value=t),onChange:e[6]||(e[6]=t=>j())},null,544),[[d,E.value]])]),l("div",dt,[pt,u(l("input",{id:"max",class:"input lg-center",type:"number",min:"0",max:"1",step:"0.001","onUpdate:modelValue":e[7]||(e[7]=t=>T.value=t),onChange:e[8]||(e[8]=t=>j())},null,544),[[d,T.value]])]),l("div",ht,[ft,u(l("input",{id:"liveOutputValue",class:"input lg-center",type:"text","onUpdate:modelValue":e[9]||(e[9]=t=>A.value=t),disabled:""},null,512),[[d,A.value]])]),gt])):(o(),r("div",X,[l("button",{class:"add",onClick:e[0]||(e[0]=t=>{R.value||(R.value=!0,N())})},"Add New")])),l("div",null,[(o(!0),r(a,null,p(C.value,(e=>(o(),r("div",{class:"lg-span-2 error",key:t.errror},[b(n,{name:"error"}),v(" "+f(e),1)])))),128))])],64)}}};J('/* ----------------------------------------------------------------------------------------------------\n\nSuper Form Reset\n\nA couple of things to watch out for:\n\n- IE8: If a text input doesn\'t have padding on all sides or none the text won\'t be centered.\n- The default border sizes on text inputs in all UAs seem to be slightly different. You\'re better off using custom borders.\n- You NEED to set the font-size and family on all form elements\n- Search inputs need to have their appearance reset and the box-sizing set to content-box to match other UAs\n- You can style the upload button in webkit using ::-webkit-file-upload-button\n- ::-webkit-file-upload-button selectors can\'t be used in the same selector as normal ones. FF and IE freak out.\n- IE: You don\'t need to fake inline-block with labels and form controls in IE. They function as inline-block.\n- By turning off ::-webkit-search-decoration, it removes the extra whitespace on the left on search inputs\n\n----------------------------------------------------------------------------------------------------*/\n\ninput,\nlabel,\nselect,\nbutton,\ntextarea\n{\n\tmargin:0;\n\tborder:0;\n\tpadding:0;\n\tdisplay:inline-block;\n\tvertical-align:middle;\n\twhite-space:normal;\n\tbackground:none;\n\tline-height:1;\n\t/* Browsers have different default form fonts */\n\tfont-size:inherit;\n\tfont-family:inherit;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;    \n    box-sizing: border-box;\n}\n\n/* Remove the stupid outer glow in Webkit */\ninput:focus\n{\n\toutline:0;\n}\n\n/* Box Sizing Reset\n-----------------------------------------------*/\n\n/* All of our custom controls should be what we expect them to be */\n/* input,\ntextarea\n{\n\t-webkit-box-sizing:content-box;\n\t-moz-box-sizing:content-box;\n\tbox-sizing:content-box;\n} */\n\n/* These elements are usually rendered a certain way by the browser */\nbutton,\ninput[type=reset],\ninput[type=button],\ninput[type=submit],\ninput[type=checkbox],\ninput[type=radio],\nselect\n{\n\t-webkit-box-sizing:border-box;\n\t-moz-box-sizing:border-box;\n\tbox-sizing:border-box;\n}\n\n/* Text Inputs\n-----------------------------------------------*/\n\ninput[type=date],\ninput[type=datetime],\ninput[type=datetime-local],\ninput[type=email],\ninput[type=month],\ninput[type=number],\ninput[type=password],\ninput[type=range],\ninput[type=search],\ninput[type=tel],\ninput[type=text],\ninput[type=time],\ninput[type=url],\ninput[type=week]\n{\n}\n\n/* Button Controls\n-----------------------------------------------*/\n\ninput[type=checkbox],\ninput[type=radio]\n{\n\twidth:13px;\n\theight:13px;\n}\n\n/* File Uploads\n-----------------------------------------------*/\n\ninput[type=file]\n{\n\n}\n\n/* Search Input\n-----------------------------------------------*/\n\n/* Make webkit render the search input like a normal text field */\ninput[type=search]\n{\n\t-webkit-appearance:textfield;\n\t/* -webkit-box-sizing:content-box; */\n}\n\n/* Turn off the recent search for webkit. It adds about 15px padding on the left */\n::-webkit-search-decoration\n{\n\tdisplay:none;\n}\n\n/* Buttons\n-----------------------------------------------*/\n\nbutton,\ninput[type="reset"],\ninput[type="button"],\ninput[type="submit"]\n{\n\t/* Fix IE7 display bug */\n\toverflow:visible;\n\twidth:auto;\n}\n\n/* IE8 and FF freak out if this rule is within another selector */\n::-webkit-file-upload-button\n{\t\n\tpadding:0;\n\tborder:0;\n\tbackground:none;\n}\n\n/* Textarea\n-----------------------------------------------*/\n\ntextarea \n{\n\t/* Move the label to the top */\n\tvertical-align:top;\n\t/* Turn off scroll bars in IE unless needed */\n\toverflow:auto;\n\tresize: vertical;\n\twhite-space: pre-wrap;\n}\n\n/* Selects\n-----------------------------------------------*/\n\nselect\n{\n\n}\n\nselect[multiple] \n{\n\t/* Move the label to the top */\n\tvertical-align:top;\n}\n\n\n\n.input{\n\twidth: 100% !important;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;    \n\tbox-sizing: border-box;\n\tbackground-color: var(--light-blue);\n\tpadding: 8px;\n\tfont-size: 14px;\n\tmin-height: 35px;\n}\n\n.input:enabled:hover{\n\tbackground-color: var(--hover-bg);\n}\n\nselect:hover{\n\tcursor: pointer;\n}\n\n.input:disabled{\n\tcursor: not-allowed;\n}\n.row[data-v-7df546ad]{\n        display: grid;\n        grid-template-columns: 1fr;\n        margin-bottom: 1em;\n        border: 1px solid grey;\n        border-radius: 5px;\n        overflow: hidden;\n}\n.row div[data-v-7df546ad]{\n        display: grid;\n        grid-template-columns: 150px 1fr;\n        border-bottom: 1px solid grey;\n}\n.row div[data-v-7df546ad]:last-child{\n        border-bottom: 0px;\n}\nlabel[data-v-7df546ad]{\n        padding: 8px;\n        font-weight: 700;\n        font-size: 12px;\n        text-transform: capitalize;\n        border-right: 1px solid grey;\n        background-color: var(--light-blue);\n}\n.updated input[data-v-7df546ad], .updated select[data-v-7df546ad], .updated textarea[data-v-7df546ad]{\n        background-color: #ff990064 !important;\n}\n.error[data-v-7df546ad] {\n        padding: 8px;\n        color: darkred;\n}\n.add[data-v-7df546ad] {\n        -webkit-box-sizing: border-box;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n        padding: 8px;\n        font-size: 14px;\n        min-height: 35px;\n}\n.add-container[data-v-7df546ad] {\n        margin-top: 2em;\n        align-content: center;\n        margin: 1.5em 0px;\n}\n.add-container button[data-v-7df546ad]{\n        font-size: .875em;\n        border-radius: 100px;\n        padding: 0 35px;\n        border: rgba(0, 0, 0, 0.1) solid 1px;\n        background: white;\n        -webkit-box-shadow: 2px 2px 8px 1px rgba(0, 0, 0, 0.1);\n        -moz-box-shadow: 2px 2px 8px 1px rgba(0, 0, 0, 0.1);\n        box-shadow: 2px 2px 8px 1px rgba(0, 0, 0, 0.1);\n}\n.add-container button[data-v-7df546ad]:hover{\n        background-color: var(--pale-green);\n        -webkit-box-shadow: 2px 2px 8px 1px rgba(0, 0, 0, 0.1);\n        -moz-box-shadow: 2px 2px 8px 1px rgba(0, 0, 0, 0.1);\n        box-shadow: 2px 2px 8px 1px rgba(0, 0, 0, 0.1);\n}\n@media screen and (min-width: 1200px) {\n.label[data-v-7df546ad]{\n            clip: rect(0 0 0 0);\n            clip-path: inset(50%);\n            height: 1px;\n            overflow: hidden;\n            position: absolute;\n            white-space: nowrap;\n            width: 1px;\n}\n.row[data-v-7df546ad]{\n            display: grid;\n            grid-template-columns: repeat(12, 1fr);\n            grid-gap: 1px;\n            width: 100%;\n            margin-bottom: 2px;\n            border: 0px;\n}\n.row div[data-v-7df546ad]{\n            display: block;\n            grid-template-columns: 150px 1fr;\n            border-bottom: 0px;\n}\n.lg-span-2[data-v-7df546ad]{\n            grid-column: span 2;\n}\n.lg-center[data-v-7df546ad]{\n            text-align: center;\n}\n.lg-left[data-v-7df546ad]{\n            text-align: left;\n}\n.table-header div[data-v-7df546ad]{\n            display: initial;\n            font-size: 12px;\n            font-weight: bold;\n}\n.row div[data-v-7df546ad]{\n            overflow: hidden;\n            /* background-color: var(--light-blue); */\n}\n.row:hover .input[data-v-7df546ad]{\n            background-color: var(--pale-green);\n}\n.row:hover .input[data-v-7df546ad]:enabled:hover{\n            background-color: var(--hover-bg);\n}\n.row:hover .input[data-v-7df546ad]:disabled:hover{\n            background-color: var(--light-grey);\n}\ntextarea[data-v-7df546ad]{\n            height: 35px;\n            padding-top: 10px;\n}\n}\n\n',{}),bt.__scopeId="data-v-7df546ad",bt.__file="src/components/newOutputTableRow.vue";const vt={class:"output-group-container"},mt={class:"table"},yt=w('<div class="row table-header" data-v-345ca9e7><div class="lg-left" data-v-345ca9e7>Name</div><div class="lg-span-2 lg-left" data-v-345ca9e7>Description</div><div class="lg-span-2 lg-left" data-v-345ca9e7>Source Device</div><div class="lg-span-2 lg-left" data-v-345ca9e7>Data Point</div><div class="lg-center" data-v-345ca9e7>Min</div><div class="lg-center" data-v-345ca9e7>Max</div><div class="lg-center" data-v-345ca9e7>Live Data Value</div></div>',1);var xt={__name:"clientOutputs",props:["all_outputs","clientTitle","client"],setup(t){const e=t,s=n((()=>e.all_outputs.filter((t=>t.clients==e.client))));return(e,n)=>(o(),r("div",vt,[l("h2",null,f(t.clientTitle),1),l("div",mt,[yt,(o(!0),r(a,null,p(h(s),(t=>(o(),x(K,{key:t.name,output:t},null,8,["output"])))),128)),b(bt,{client:t.client},null,8,["client"])])]))}};J("\n.output-group-container[data-v-345ca9e7]{\n        padding-bottom: 3em;\n}\nh2[data-v-345ca9e7]{\n        font-size: 1.25em;\n        padding: 1em 0;\n        border-top: 1px solid black;\n        border-bottom: 1px solid black;\n        text-transform: uppercase;\n}\n.table-header div[data-v-345ca9e7]{\n        display: none;\n}\n.table[data-v-345ca9e7]{\n        padding-top: 2em;\n}\n@media screen and (min-width: 1200px) {\n.row[data-v-345ca9e7]{\n            display: grid;\n            grid-template-columns: repeat(12, 1fr);\n            grid-gap: 2px;\n            width: 100%;\n}\n.lg-span-2[data-v-345ca9e7]{\n            grid-column: span 2;\n}\n.lg-center[data-v-345ca9e7]{\n            text-align: center;\n}\n.lg-left[data-v-345ca9e7]{\n            text-align: left;\n}\n.table-header div[data-v-345ca9e7]{\n            display: initial;\n            font-size: 12px;\n            font-weight: bold;\n            line-height: 15px;\n            padding-bottom: .5em;\n}\n}\n\n",{}),xt.__scopeId="data-v-345ca9e7",xt.__file="src/components/clientOutputs.vue";const wt=Object.create(null);wt.open="0",wt.close="1",wt.ping="2",wt.pong="3",wt.message="4",wt.upgrade="5",wt.noop="6";const kt=Object.create(null);Object.keys(wt).forEach((t=>{kt[wt[t]]=t}));const _t={type:"error",data:"parser error"},Et="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Tt="function"==typeof ArrayBuffer,Ot=({type:t,data:e},n,s)=>{return Et&&e instanceof Blob?n?s(e):At(e,s):Tt&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?s(e):At(new Blob([e]),s):s(wt[t]+(e||""));var i},At=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)},Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ct="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<Rt.length;t++)Ct[Rt.charCodeAt(t)]=t;const Bt="function"==typeof ArrayBuffer,St=(t,e)=>{if("string"!=typeof t)return{type:"message",data:zt(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:Nt(t.substring(1),e)};return kt[n]?t.length>1?{type:kt[n],data:t.substring(1)}:{type:kt[n]}:_t},Nt=(t,e)=>{if(Bt){const n=(t=>{let e,n,s,i,o,r=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);const c=new ArrayBuffer(r),u=new Uint8Array(c);for(e=0;e<a;e+=4)n=Ct[t.charCodeAt(e)],s=Ct[t.charCodeAt(e+1)],i=Ct[t.charCodeAt(e+2)],o=Ct[t.charCodeAt(e+3)],u[l++]=n<<2|s>>4,u[l++]=(15&s)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c})(t);return zt(n,e)}return{base64:!0,data:t}},zt=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t,Lt=String.fromCharCode(30);function It(t){if(t)return function(t){for(var e in It.prototype)t[e]=It.prototype[e];return t}(t)}It.prototype.on=It.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},It.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},It.prototype.off=It.prototype.removeListener=It.prototype.removeAllListeners=It.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,s=this._callbacks["$"+t];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<s.length;i++)if((n=s[i])===e||n.fn===e){s.splice(i,1);break}return 0===s.length&&delete this._callbacks["$"+t],this},It.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){s=0;for(var i=(n=n.slice(0)).length;s<i;++s)n[s].apply(this,e)}return this},It.prototype.emitReserved=It.prototype.emit,It.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},It.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Pt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function qt(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const Ft=Pt.setTimeout,Dt=Pt.clearTimeout;function jt(t,e){e.useNativeTimers?(t.setTimeoutFn=Ft.bind(Pt),t.clearTimeoutFn=Dt.bind(Pt)):(t.setTimeoutFn=Pt.setTimeout.bind(Pt),t.clearTimeoutFn=Pt.clearTimeout.bind(Pt))}const Ut=1.33;class Vt extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}}class Mt extends It{constructor(t){super(),this.writable=!1,jt(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved("error",new Vt(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=St(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}}const Yt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ht=64,Kt={};let Wt,$t=0,Jt=0;function Qt(t){let e="";do{e=Yt[t%Ht]+e,t=Math.floor(t/Ht)}while(t>0);return e}function Xt(){const t=Qt(+new Date);return t!==Wt?($t=0,Wt=t):t+"."+Qt($t++)}for(;Jt<Ht;Jt++)Kt[Yt[Jt]]=Jt;function Gt(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}let Zt=!1;try{Zt="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const te=Zt;function ee(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||te))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Pt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}function ne(){}const se=null!=new ee({xdomain:!1}).responseType;class ie extends It{constructor(t,e){super(),jt(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=qt(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new ee(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=ie.requestsCount++,ie.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=ne,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete ie.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(ie.requestsCount=0,ie.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",oe);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Pt?"pagehide":"unload",oe,!1)}function oe(){for(let t in ie.requests)ie.requests.hasOwnProperty(t)&&ie.requests[t].abort()}const re="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),ae=Pt.WebSocket||Pt.MozWebSocket,le="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const ce={websocket:class extends Mt{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=le?{}:qt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=le?new ae(t,e,n):e?new ae(t,e):new ae(t)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],s=e===t.length-1;Ot(n,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}s&&re((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=Xt()),this.supportsBinary||(t.b64=1);const s=Gt(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}check(){return!!ae}},polling:class extends Mt{constructor(t){if(super(t),this.polling=!1,"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=se&&!e}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const n=t.split(Lt),s=[];for(let t=0;t<n.length;t++){const i=St(n[t],e);if(s.push(i),"error"===i.type)break}return s})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,s=new Array(n);let i=0;t.forEach(((t,o)=>{Ot(t,!1,(t=>{s[o]=t,++i===n&&e(s.join(Lt))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Xt()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const s=Gt(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(s.length?"?"+s:"")}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new ie(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}},ue=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,de=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function pe(t){const e=t,n=t.indexOf("["),s=t.indexOf("]");-1!=n&&-1!=s&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let i=ue.exec(t||""),o={},r=14;for(;r--;)o[de[r]]=i[r]||"";return-1!=n&&-1!=s&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||s.splice(0,1);"/"==e.slice(-1)&&s.splice(s.length-1,1);return s}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,s){e&&(n[e]=s)})),n}(0,o.query),o}let he=class extends It{constructor(t,e={}){super(),this.writeBuffer=[],t&&"object"==typeof t&&(e=t,t=null),t?(t=pe(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=pe(e.host).host),jt(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split("&");for(let t=0,s=n.length;t<s;t++){let s=n[t].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ce[t](n)}open(){let t;if(this.opts.rememberUpgrade&&he.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(t=>this.onClose("transport close",t)))}probe(t){let e=this.createTransport(t),n=!1;he.priorWebsocketSuccess=!1;const s=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;he.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){n||(n=!0,c(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,i(),this.emitReserved("upgradeError",n)};function r(){o("transport closed")}function a(){o("socket closed")}function l(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",s),e.removeListener("error",o),e.removeListener("close",r),this.off("close",a),this.off("upgrading",l)};e.once("open",s),e.once("error",o),e.once("close",r),this.once("close",a),this.once("upgrading",l),e.open()}onOpen(){if(this.readyState="open",he.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(t+="string"==typeof(e=s)?function(t){let e=0,n=0;for(let s=0,i=t.length;s<i;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}(e):Math.ceil((e.byteLength||e.size)*Ut)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,s){if("function"==typeof e&&(s=e,e=void 0),"function"==typeof n&&(s=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){he.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const s=t.length;for(;n<s;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}};he.protocol=4;const fe="function"==typeof ArrayBuffer,ge=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,be=Object.prototype.toString,ve="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===be.call(Blob),me="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===be.call(File);function ye(t){return fe&&(t instanceof ArrayBuffer||ge(t))||ve&&t instanceof Blob||me&&t instanceof File}function xe(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(xe(t[e]))return!0;return!1}if(ye(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return xe(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&xe(t[e]))return!0;return!1}function we(t){const e=[],n=t.data,s=t;return s.data=ke(n,e),s.attachments=e.length,{packet:s,buffers:e}}function ke(t,e){if(!t)return t;if(ye(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=ke(t[s],e);return n}if("object"==typeof t&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=ke(t[s],e));return n}return t}function _e(t,e){return t.data=Ee(t.data,e),delete t.attachments,t}function Ee(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Ee(t[n],e);else if("object"==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Ee(t[n],e));return t}var Te;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Te||(Te={}));class Oe extends It{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const n=e.type===Te.BINARY_EVENT;n||e.type===Te.BINARY_ACK?(e.type=n?Te.EVENT:Te.ACK,this.reconstructor=new Ae(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!ye(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===Te[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Te.BINARY_EVENT||n.type===Te.BINARY_ACK){const s=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(s,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===t.charAt(e+1)){const s=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(s,e)}else n.nsp="/";const s=t.charAt(e+1);if(""!==s&&Number(s)==s){const s=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){const s=this.tryParse(t.substr(e));if(!Oe.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case Te.CONNECT:return"object"==typeof e;case Te.DISCONNECT:return void 0===e;case Te.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case Te.EVENT:case Te.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case Te.ACK:case Te.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ae{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=_e(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Re=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Te},Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==Te.EVENT&&t.type!==Te.ACK||!xe(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Te.EVENT?Te.BINARY_EVENT:Te.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==Te.BINARY_EVENT&&t.type!==Te.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=we(t),n=this.encodeAsString(e.packet),s=e.buffers;return s.unshift(n),s}},Decoder:Oe});function Ce(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Be=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Se extends It{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ce(t,"open",this.onopen.bind(this)),Ce(t,"packet",this.onpacket.bind(this)),Ce(t,"error",this.onerror.bind(this)),Ce(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(Be.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:Te.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,s=e.pop();this._registerAckCallback(t,s),n.id=t}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){var n;const s=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===s)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),s);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...t])}}emitWithAck(t,...e){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((s,i)=>{e.push(((t,e)=>n?t?i(t):s(e):s(t))),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...s)=>{if(n!==this._queue[0])return;return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Te.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Te.EVENT:case Te.BINARY_EVENT:this.onevent(t);break;case Te.ACK:case Te.BINARY_ACK:this.onack(t);break;case Te.DISCONNECT:this.ondisconnect();break;case Te.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...s){n||(n=!0,e.packet({type:Te.ACK,id:t,data:s}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Ne(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Ne.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Ne.prototype.reset=function(){this.attempts=0},Ne.prototype.setMin=function(t){this.ms=t},Ne.prototype.setMax=function(t){this.max=t},Ne.prototype.setJitter=function(t){this.jitter=t};class ze extends It{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,jt(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Ne({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const s=e.parser||Re;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new he(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Ce(e,"open",(function(){n.onopen(),t&&t()})),i=Ce(e,"error",(e=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",e),t?t(e):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&s();const n=this.setTimeoutFn((()=>{s(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ce(t,"ping",this.onping.bind(this)),Ce(t,"data",this.ondata.bind(this)),Ce(t,"error",this.onerror.bind(this)),Ce(t,"close",this.onclose.bind(this)),Ce(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){re((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Se(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Le={};function Ie(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let s=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),s=pe(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const i=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+i+":"+s.port+e,s.href=s.protocol+"://"+i+(n&&n.port===s.port?"":":"+s.port),s}(t,(e=e||{}).path||"/socket.io"),s=n.source,i=n.id,o=n.path,r=Le[i]&&o in Le[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||r?a=new ze(s,e):(Le[i]||(Le[i]=new ze(s,e)),a=Le[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(Ie,{Manager:ze,Socket:Se,io:Ie,connect:Ie});const Pe={class:"page-container"},qe={key:0,class:"update-bar"},Fe=["disabled"],De={key:0},je={key:1};var Ue={__name:"module",setup(e){const n=["unreal","midi"],s=O(),a=t(0),c=t(0),u=t(!1),d=t(!1),p=t([]),f=t({});var g=t([]);const m=t({}),y=()=>{console.log("1 ouput saved"),a.value>0&&(a.value-=1,0==a.value&&(u.value=!1,d.value=!1))};return k((async()=>{for(let t=0;t<n.length;t++)Ie("/"+n[t]).onAny(((t,...e)=>{m.value[t]=e[0]}));s.get("/items/data_sources").then((t=>{t.data.data.forEach((t=>{p.value.push(t.name),s.get("items/"+t.name+"?limit=1").then((e=>{let n=Object.keys(e.data.data[0]).filter((t=>"id"!=t&&"date_created"!=t));f.value[t.name]=n}))}))})),console.log(p.value),console.log(f.value),_("data_sources",p.value),_("data_types",f.value);let t=await s.get("/items/outputs");console.log(t.data.data),g.value=t.data.data,console.log(g.value)})),_("update",{save:u,discard:d,outputSaved:y,outputUpdated:()=>{a.value+=1,console.log(a.value+" ouput updated")},outputFailed:()=>{c.value+=1,c.value==a.value&&(u.value=!1)}}),_("add",{all_outputs:g,addOutput:t=>{g.value.push(t),console.log(g.value),y()}}),_("delete",(async t=>{await s.delete("/items/outputs/"+t),g.value=g.value.filter((e=>e.id!=t))})),_("output_vals",m),t("Outputs"),(t,e)=>{const n=i("v-icon"),s=i("v-list-item-icon"),p=i("v-list-item-content"),f=i("v-list-item"),m=i("v-list"),y=i("private-view");return o(),x(y,{title:"OUTPUTS"},{navigation:E((()=>[T(" This goes in the navigation bar! "),b(m,{nav:"true"},{default:E((()=>[b(f,{to:"/ds_interface"},{default:E((()=>[b(s,null,{default:E((()=>[b(n,{name:"label"})])),_:1}),b(p,null,{default:E((()=>[v("Output")])),_:1})])),_:1}),b(f,null,{default:E((()=>[b(s,null,{default:E((()=>[b(n,{name:"label"})])),_:1}),b(p,null,{default:E((()=>[v("System")])),_:1})])),_:1})])),_:1})])),default:E((()=>[l("div",Pe,[b(xt,{all_outputs:h(g),client:"unreal",clientTitle:"Unreal Engine:"},null,8,["all_outputs"]),b(xt,{all_outputs:h(g),client:"midi",clientTitle:"MIDI"},null,8,["all_outputs"])]),a.value>0?(o(),r("div",qe,[l("button",{class:"update-button",onClick:e[0]||(e[0]=t=>(c.value=0,void(u.value=!0))),disabled:d.value},[u.value?(o(),r("span",je,"Saving...")):(o(),r("span",De,"Save"))],8,Fe),l("button",{class:"update-button",onClick:e[1]||(e[1]=t=>(c.value=0,void(d.value=!0)))}," Discard ")])):T("v-if",!0)])),_:1})}}};J(":root {\n    --light-blue: #DBEFF5;\n    --hover-bg: #BDFF00;\n    --pale-green: #DFFF84;\n    --light-grey: #f5f5f5;\n  }\n\t/* @import url('./assets/css/forms.css'); */\n.page-container{\n\t\tpadding: 32px 16px;\n\t\tcolor: black;\n}\n.update-bar {\n\t    position: sticky;\n\t    height: 50px;\n\t    bottom: 0px;\n\t    background: #ff8400;\n\t    line-height: 50px;\n\t    width: 100%;\n\t    padding: 0 16px;\n}\n.update-button {\n\t    padding: 12px;\n\t    min-width: 100px;\n\t    margin-right: 8px;\n\t    color: white;\n\t    border: white solid 1px;\n\t    border-radius: 50px;\n}\n@media screen and (min-width: 600px) {\n.page-container{\n\t\t\tpadding: 0 48px;\n}\n.update-bar {\n\t\t    padding: 0 48px;\n\t\t    margin-top: 48px;\n}\n}\n\n",{}),Ue.__file="src/module.vue";var Ve={id:"ds_interface",name:"Dream_Seequence_Interface",icon:"output",routes:[{path:"",component:Ue}]};export{Ve as default};
